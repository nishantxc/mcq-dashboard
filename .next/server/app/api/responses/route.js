(()=>{var e={};e.id=434,e.ids=[434],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1630:e=>{"use strict";e.exports=require("http")},1645:e=>{"use strict";e.exports=require("net")},1997:e=>{"use strict";e.exports=require("punycode")},2371:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>m,routeModule:()=>c,serverHooks:()=>x,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>l});var s={};t.r(s),t.d(s,{POST:()=>p});var i=t(6559),o=t(8088),u=t(7719),n=t(2190),a=t(9475);async function p(e){try{let{userId:r,totalQuestions:t,correctAnswers:s,timeTaken:i,responses:o}=await e.json(),{data:u,error:p}=await a.ND.from("quiz_attempts").insert({user_id:r,completed_at:new Date().toISOString(),time_taken:i,total_questions:t,correct_answers:s,score:s/t*100}).select().single();if(p)throw p;let c=o.map(e=>({attempt_id:u.id,question_id:e.questionId,user_answer:e.answer,is_correct:e.isCorrect})),{error:d}=await a.ND.from("user_responses").insert(c);if(d)throw d;return n.NextResponse.json(u)}catch(r){console.error("Error in responses route:",r);let e="An error occurred while saving the quiz responses";return r instanceof Error?e=r.message:"object"==typeof r&&null!==r&&(e=JSON.stringify(r)),n.NextResponse.json({error:e,details:r},{status:500})}}let c=new i.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/responses/route",pathname:"/api/responses",filename:"route",bundlePath:"app/api/responses/route"},resolvedPagePath:"/Users/react-js/Desktop/mcq/src/app/api/responses/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:d,workUnitAsyncStorage:l,serverHooks:x}=c;function m(){return(0,u.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:l})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4075:e=>{"use strict";e.exports=require("zlib")},4631:e=>{"use strict";e.exports=require("tls")},4735:e=>{"use strict";e.exports=require("events")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5511:e=>{"use strict";e.exports=require("crypto")},5591:e=>{"use strict";e.exports=require("https")},6487:()=>{},7910:e=>{"use strict";e.exports=require("stream")},7990:()=>{},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9428:e=>{"use strict";e.exports=require("buffer")},9475:(e,r,t)=>{"use strict";t.d(r,{ND:()=>s});let s=(0,t(6437).UU)("https://uvsqpmaejmaelmgtyjax.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV2c3FwbWFlam1hZWxtZ3R5amF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI3NTAyNDUsImV4cCI6MjA2ODMyNjI0NX0.I4PtgWzFq_x-uKu8idA7zdfgeC3OY0mBc2LekIjYKzE")},9551:e=>{"use strict";e.exports=require("url")},9727:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[447,437,580],()=>t(2371));module.exports=s})();